function changeLang(t){t===$ZHTW.type&&($AlertMsg=$ZHTW.msg,$Content.game.langData=$ZHTW.game,$Modal.gameHelp.langData=$ZHTW.game,$Modal.register.langData=$ZHTW.game,$Content.game.statistics.source="icon_tj_png",$Content.game.invite.source="icon_tjzc_png",$Content.game.faq.source="icon_gl_png",$Content.game.lang.source="icon_ft_png",$Content.game.buyBtn.$children[1].source="btn_text_gmyc_zh_png",$Content.game.registerBtn.$children[1].source="btn_text_register_zh_png",$Content.game.withdrawBtn.$children[1].source="btn_text_tq_zh_png",$Content.game.stelaTitle.source="title1_week_pot_png",$Content.game.stelaTitle2.source="title2_my_sort_png",$Content.game.timesImg.source="yx_text_ljcs_zh_png",$Content.game.allBuyImg.source="yx_text_ljtr_zh_png",$Content.game.bonusImg.source="yx_text_fhsy_zh_png",$Content.game.finalLuck.source="title1_max_pot_zh_png",$Content.game.totalOutImg.source="title2_out_sort_png",$Content.game.outTimeImg.source="yx_text_cjcs_zh_png",$Content.game.notOutImg.source="yx_text_wccs_zh_png",$Content.game.levelUpImg.source="yx_text_jjsy_zh_png",$Content.game.leaderImg.source="yx_text_lxsy_zh_png",$Content.game.roundTImg.source="yx_text_ltsy_zh_png",$Content.game.myBuyTitle1.source="title3_my_send_png",$Content.game.myBounsTitle2.source="title3_my_profit_png",$Content.game.alertModal.$children[1].source="special_effects_text_png",$Content.game.roundZh.visible=!1,$Content.game.roundEn.visible=!1,$Modal.gameHelp.langTitleImg.source="title_text_faq_zh_png",$Modal.gameAlert.submitBtn.$children[1].source="btn_text_fz_zh_png",$Modal.register.title.source="title_text_referee_zh_png",$Modal.register.registerBtn.$children[1].source="btn_text_yqdy_zh_png",$Modal.register.linkGroup.$children[0].source="title_text_yqlj_zh_png",$Modal.register.copyBtn.$children[1].source="btn_text_fz_zh2_png",$Modal.gameStatistics.title.source="title_text_strategy_zh2_png",$Modal.gameStatistics.tabAct1.visible=!0,$Modal.gameStatistics.tabActEn1.visible=!1,$Modal.gameStatistics.tabAct2.visible=!0,$Modal.gameStatistics.tabActEn2.visible=!1,$Modal.gameStatistics.tabAct3.visible=!0,$Modal.gameStatistics.tabActEn3.visible=!1,$Modal.gameStatistics.tabAct4.visible=!0,$Modal.gameStatistics.tabActEn4.visible=!1,$Modal.gameStatistics.luckyTitle.source="title_text_xyph_png",$Modal.gameStatistics.overtimeImg.source="statistics_stats_text_djs_zh_png",$Modal.gameStatistics.potImg.source="statistics_stats_text_zhdjjc_zh_png",$Modal.gameStatistics.listNum.source="statistics_text_cjxh_png",$Modal.gameStatistics.totalInvestment.source="statistics_stats_text_ti_zh_png",$Modal.gameStatistics.totalBuyTimes.source="statistics_stats_text_ztd_zh_png",$Modal.gameStatistics.myBuyTimes.source="statistics_stats_text_wdtd_zh_png"),t===$EN.type&&($AlertMsg=$EN.msg,$Content.game.langData=$EN.game,$Modal.gameHelp.langData=$EN.game,$Modal.register.langData=$EN.game,$Content.game.statistics.source="icon_tj_en_png",$Content.game.invite.source="icon_tjzc_en_png",$Content.game.faq.source="icon_gl_en_png",$Content.game.lang.source="icon_ft_en_png",$Content.game.buyBtn.$children[1].source="btn_text_gmyc_en_png",$Content.game.registerBtn.$children[1].source="btn_text_register_en_png",$Content.game.withdrawBtn.$children[1].source="btn_text_tq_en_png",$Content.game.stelaTitle.source="title1_week_pot_en_png",$Content.game.stelaTitle2.source="title2_my_sort_en_png",$Content.game.timesImg.source="yx_text_ljcs_en_png",$Content.game.allBuyImg.source="yx_text_ljtr_en_png",$Content.game.bonusImg.source="yx_text_fhsy_en_png",$Content.game.finalLuck.source="title1_max_pot_en_png",$Content.game.totalOutImg.source="title2_out_sort_en_png",$Content.game.outTimeImg.source="yx_text_cjcs_en_png",$Content.game.notOutImg.source="yx_text_wccs_en_png",$Content.game.levelUpImg.source="yx_text_jjsy_en_png",$Content.game.leaderImg.source="yx_text_lxsy_en_png",$Content.game.roundTImg.source="yx_text_ltsy_en_png",$Content.game.myBuyTitle1.source="title3_my_send_en_png",$Content.game.myBounsTitle2.source="title3_my_profit_en_png",$Content.game.alertModal.$children[1].source="special_effects_text_en_png",$Content.game.roundZh.visible=!1,$Content.game.roundEn.visible=!1,$Modal.gameHelp.langTitleImg.source="title_text_faq_en_png",$Modal.gameAlert.submitBtn.$children[1].source="btn_text_fz_en_png",$Modal.register.title.source="title_text_referee_en_png",$Modal.register.registerBtn.$children[1].source="btn_text_yqdy_en_png",$Modal.register.linkGroup.$children[0].source="title_text_yqlj_en_png",$Modal.register.copyBtn.$children[1].source="btn_text_fz_en2_png",$Modal.gameStatistics.title.source="title_text_strategy_en_png",$Modal.gameStatistics.tabAct1.visible=!1,$Modal.gameStatistics.tabActEn1.visible=!0,$Modal.gameStatistics.tabAct2.visible=!1,$Modal.gameStatistics.tabActEn2.visible=!0,$Modal.gameStatistics.tabAct3.visible=!1,$Modal.gameStatistics.tabActEn3.visible=!0,$Modal.gameStatistics.tabAct4.visible=!1,$Modal.gameStatistics.tabActEn4.visible=!0,$Modal.gameStatistics.luckyTitle.source="title_text_xyph_en_png",$Modal.gameStatistics.overtimeImg.source="statistics_stats_text_djs_en_png",$Modal.gameStatistics.potImg.source="statistics_stats_text_zhdjjc_en_png",$Modal.gameStatistics.listNum.source="statistics_text_cjxh_en_png",$Modal.gameStatistics.totalInvestment.source="statistics_stats_text_ti_en_png",$Modal.gameStatistics.totalBuyTimes.source="statistics_stats_text_ztd_en_png",$Modal.gameStatistics.myBuyTimes.source="statistics_stats_text_wdtd_en_png")}function getLanStatus(){var t=localStorage.getItem("language");t&&(langStatus=t,changeLang(t),setLanguageModalState(langStatus))}function setLanguageModalState(t){t===$ZHTW.type&&($Modal.language.title.source="yuyan_text_zh_png",$Modal.language.langZHTW_choosed.visible=!0,$Modal.language.langEN_choosed.visible=!1),t===$EN.type&&($Modal.language.title.source="yuyan_text_en_png",$Modal.language.langZHTW_choosed.visible=!1,$Modal.language.langEN_choosed.visible=!0)}function setHLayoutLeft(){var t=new eui.HorizontalLayout;return t.gap=20,t.horizontalAlign=egret.HorizontalAlign.LEFT,t}function getNetWork(){return new Promise(function(t){"undefined"!=typeof web3?web3.version.getNetwork(function(e,n){switch(n){case"1":web3js=new Web3(web3.currentProvider),t(),$myAddress=web3js.eth.accounts[0];var a=setInterval(function(){$myAddress=web3js.eth.accounts[0],$myAddress||clearInterval(a)},2e3);break;default:web3js=new Web3(new Web3.providers.HttpProvider("https://mainnet.infura.io/")),t()}}):(web3js=new Web3(new Web3.providers.HttpProvider("https://mainnet.infura.io/")),t())})}function getJson(){return new Promise(function(t,e){fetch("contract/GPDA.json",{method:"GET",headers:new Headers({"Content-Type":"application/json"})}).then(function(t){return t.json()},function(t){e(t)}).then(function(e){$gameContract=web3js.eth.contract(e.abi),$gameContractInstance=$gameContract.at("0x817bbdbe6d8b5cbc4cfd63cef13aaf63f34545c3"),t($tokenContractInstance)})})}function timestampToTime(t){t=10===t.length?1e3*t:1*t;var e=new Date(t),n=e.getFullYear()+".",a=fillZero(e.getMonth()+1)+".",i=fillZero(e.getDate())+" ",r=fillZero(e.getHours())+":",o=fillZero(e.getMinutes())+":",s=fillZero(e.getSeconds());return n+a+i+r+o+s}function fillZero(t){return t=10>t?"0"+t:t}function timestampToMoment(t){t=0>t?0:t;var e=fillZero(Math.floor(t/60/60))+":",n=fillZero(Math.floor(t/60%60))+":",a=fillZero(t%60);return e+n+a}function setOverTime(){return new Promise(function(t,e){getBjTime().then(function(n){$gameContractInstance.overMoment(function(a,i){if(a)e(a);else{var r=i.toString();t(r-Number(n)/1e3)}})})})}function getBjTime(){return new Promise(function(t,e){var n=Date.parse((new Date).toString());t(n)})}function $getTotalPot(){return new Promise(function(t,e){$gameContractInstance.teamPot(function(n,a){n?(console.log("$getWeekTotalPot",n),e(n)):t(a)})})}function getMyKeyProp(){return new Promise(function(t,e){$myAddress&&$gameContractInstance.pIDxAddr_($myAddress,function(n,a){n?e(n):$gameContractInstance.playerxID_(a,function(n,a){n?e(n):t(a)})})})}function getMyEtraProp(){return new Promise(function(t,e){$myAddress&&$gameContractInstance.playerEtraxAddr_($myAddress,function(n,a){n?e(n):t(a)})})}function getKeyMapping(){return new Promise(function(t,e){$myAddress&&$gameContractInstance.playerEtraxID_($myAddress,function(n,a){n?e(n):t(a[4])})})}function getIsBegin(){return new Promise(function(t,e){$gameContractInstance.isBegin(function(n,a){n?e(n):t(a)})})}function $alert(t){console.log(tabStatus),0===tabStatus&&($Modal.gameAlert.msg=t,$Modal.gameAlert.visible=!0)}function notSignInMetamask(){$alert("You're not signed into metamask")}function netWorkError(){$alert("Network Error")}function $modalShowEvent(t,e){t.visible=!0;var n=t.$children[1],a=egret.Tween.get(n);a.to({y:e},200),a=null}function $closeModalFun(t,e){var n=t.$children[1],a=egret.Tween.get(n);a.to({y:e},200).call(function(){t.visible=!1,a=null})}var __reflect=this&&this.__reflect||function(t,e,n){t.__class__=e,n?n.push(e):n=[e],t.__types__=t.__types__?n.concat(t.__types__):n},__extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);n.prototype=e.prototype,t.prototype=new n},__awaiter=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))(function(i,r){function o(t){try{l(a.next(t))}catch(e){r(e)}}function s(t){try{l(a["throw"](t))}catch(e){r(e)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(o,s)}l((a=a.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function n(t){return function(e){return a([t,e])}}function a(n){if(i)throw new TypeError("Generator is already executing.");for(;l;)try{if(i=1,r&&(o=r[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(r,n[1])).done)return o;switch(r=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return l.label++,{value:n[1],done:!1};case 5:l.label++,r=n[1],n=[0];continue;case 7:n=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){l=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){l.label=n[1];break}if(6===n[0]&&l.label<o[1]){l.label=o[1],o=n;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(n);break}o[2]&&l.ops.pop(),l.trys.pop();continue}n=e.call(t,l)}catch(a){n=[6,a],r=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,r,o,s,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},Game=function(t){function e(){var e=t.call(this)||this;return e.data={input:"3",round:"1",weekPot:"e0",totalFinalPot:"e0",leftTime:"00:00:00",weekLeftTime:"00:00:00",residueTimes:"30",totalBuy:"0",buyTimes:"0",outTimes:"0",notoutTimes:"0",earnings:"0",levelupBonus:"0",leaderBonus:"0",roundBonus:"0",myNum:"0",currentNum:"1",inviteBonus:"0"},e.eventData={begin:0,end:0},e.langData=$ZHTW.game,e.intervalIsStart=!1,e.updateData=new egret.Timer(1e3,0),e.overTime=0,e.overWeekTime=0,e.gainId="0",e.totalPot="0",e.totalWeekPot="0",e.skinName="resource/eui_modules/Game/GameUI.exml",e}return __extends(e,t),e.prototype.childrenCreated=function(){var e=this;t.prototype.childrenCreated.call(this),this.invite.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showInviteModalFun,this),this.lang.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showLanguageModalFun,this),this.faq.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showFaqModalFun,this),this.statistics.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showStatModalFun,this),this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.buyKeyFun,this),this.registerBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.registerFun,this),this.withdrawBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.withdrawFun,this),setOverTime().then(function(t){t=0>t?0:t,e.overTime=parseInt(t+"")}),$getTotalPot().then(function(t){e.data.totalFinalPot="e"+Number(Number(web3js.fromWei(t[1])).toFixed(3)),e.data.weekPot="e"+Number(Number(web3js.fromWei(t[2])).toFixed(2))}),$gameContractInstance.nCurrentGainId(function(t,n){t?console.log(t):(e.data.currentNum=n.toString(),$Modal.gameStatistics.data.stats.currentNum=n.toString())}),this.updateData.addEventListener(egret.TimerEvent.TIMER,this.getData,this),this.updateData.start()},e.prototype.getData=function(){var t=this;this.intervalIsStart?this.intervalStart():getIsBegin().then(function(e){e?(t.intervalStart(),t.intervalIsStart=!0):(t.overTime=86400,t.data.leftTime=timestampToMoment(t.overTime))},function(e){t.updateData.stop(),console.log("===========",e)}),getBjTime().then(function(e){var n=new Date;n.setHours(12,0,0,0);var a=0;switch(n.getDay()){case 6:a=-1;break;case 7:a=0;break;default:a=n.getDay()}var i=5-a,r=(new Date).getHours();i=0==i&&r>=12?7:i;var o=n.getTime()+864e5*i,s=o-e;t.data.weekLeftTime=timestampToMoment(s/1e3)})},e.prototype.intervalStart=function(){var t=this;this.overTime--,this.overTime%3==0&&($Modal.gameStatistics.getTeamTotalPot(),$gameContractInstance.round(function(e,n){e?(console.log("4545"+e),t.updateData.stop()):t.data.round=n.toNumber()}),setOverTime().then(function(e){e=0>e?0:e,t.overTime=parseInt(e+""),t.overTime>86400?(t.potLabel.visible=!1,t.readyTime.visible=!0,t.overTime-=86400,t.gainId="0"):(t.potLabel.visible=!0,t.readyTime.visible=!1)}),$getTotalPot().then(function(e){Number(e)<Number(t.totalPot)?(t.data.totalFinalPot="e"+t.totalPot,t.data.weekPot="e"+t.totalWeekPot):(t.data.totalFinalPot="e"+Number(Number(web3js.fromWei(e[1])).toFixed(3)),t.data.weekPot="e"+Number(Number(web3js.fromWei(e[2])).toFixed(2)),t.totalPot=Number(Number(web3js.fromWei(e[1])).toFixed(3))+"",t.totalWeekPot=Number(Number(web3js.fromWei(e[2])).toFixed(2))+"",$Modal.gameStatistics.visible&&($Modal.gameStatistics.data.stats.totalBuyTimes=e[3].toString(),$Modal.gameStatistics.data.round.activePot=t.totalPot))}),$gameContractInstance.nCurrentGainId(function(e,n){e?(console.log(e),t.updateData.stop()):(parseInt(n.toString())<parseInt(t.gainId)?(t.data.currentNum=t.gainId,$Modal.gameStatistics.data.stats.currentNum=t.gainId):(t.data.currentNum=n.toString(),$Modal.gameStatistics.data.stats.currentNum=n.toString(),t.gainId=n.toString()),$gameContractInstance.getRollInArrayLen(function(e,n){e?console.log(e):n>0?$gameContractInstance.getRollInArray(0,function(e,n){e?console.log(e):(t.data.residueTimes=30-parseInt(n[1].toString())+"",t.data.myNum=parseInt(n[0].toString())+"")}):(t.data.residueTimes="30",t.data.myNum="0")}))}),$myAddress&&getMyKeyProp().then(function(e){if(e[0]){t.data.totalBuy=Math.floor(1e3*parseFloat(web3js.fromWei(e[1].toString())))/1e3+"",t.data.buyTimes=e[5].toString(),t.data.roundBonus=Math.floor(1e3*parseFloat(web3js.fromWei(e[6].toString())))/1e3+"",$Modal.gameStatistics.visible&&($Modal.gameStatistics.data.stats.myReinvest=e[5].toString()),getMyEtraProp().then(function(e){t.data.outTimes=e[4].toString(),t.data.levelupBonus=Math.floor(1e3*parseFloat(web3js.fromWei(e[5].toString())))/1e3+"",t.data.leaderBonus=Math.floor(1e3*parseFloat(web3js.fromWei(e[6].toString())))/1e3+""});var n=Math.floor(1e3*parseFloat(web3js.fromWei(e[3].toString())))/1e3;t.data.earnings=n+"",n>=3?t.data.input="0":t.data.input="3",$gameContractInstance.getRollInArrayLen(function(e,n){e?console.log(e):t.data.notoutTimes=n}),e[1]>0?$gameContractInstance.getRollInArrayDetail($myAddress,function(e,n){if(e)console.log(e);else{n=n.map(function(t,e){return parseInt(t.toString())});var a=n.length;0==a?setTimeout(function(){t.alertModal.visible=!0,t.playAnimation(t.alertBgBling,!0)},4e3):(t.alertBgBling.stop(),t.alertModal.visible=!1)}}):(t.alertBgBling.stop(),t.alertModal.visible=!1)}},function(t){console.log(t)})),this.data.leftTime=timestampToMoment(this.overTime),$Modal.gameStatistics.visible&&($Modal.gameStatistics.data.round.drainTime=this.data.leftTime),this.overTime<=0&&(this.alertBgBling.stop(),this.alertModal.visible=!1,$gameContractInstance.round(function(t,e){t&&$alert(t)}),setTimeout(function(){t.gameoverModel.visible=!1,t.gameoverBling.stop()},15e3))},e.prototype.playAnimation=function(t,e){if(e)for(var n in t.items)t.items[n].props={loop:!0};t.play()},e.prototype.gameoverAnimation=function(){var t=this;this.gameoverModel.visible=!0,this.gameoverBling.play(),setTimeout(function(){t.playAnimation(t.goTextBling,!0),t.updateData.stop()},1500)},e.prototype.buyKeyFun=function(){var t=this;getIsBegin().then(function(e){e?setOverTime().then(function(e){return e>86400?void $alert($AlertMsg.readyTime):void t.directBuy()}):t.directBuy()})},e.prototype.directBuy=function(){var t=this;if(!$myAddress)return void notSignInMetamask();var e=location.href,n=e.split("?")[1],a="0x0000000000000000000000000000000000000000";n?web3js.isAddress(n)?(a=n,this.rollIn(a)):isNaN(Number(n))?(console.log(web3js.fromAscii(n)),$alert("請保持瀏覽器地址後綴為正確的賬戶地址或id")):$gameContractInstance.playerxID_(n,function(e,n){e?$alert(e):(a=n[0],t.rollIn(a))}):this.rollIn(a)},e.prototype.rollIn=function(t){var e=this;$myAddress==t&&(t="0x0000000000000000000000000000000000000000"),console.log(t),$myAddress&&getMyKeyProp().then(function(n){return n[2].c.length>=10?void $alert($AlertMsg.isQueue):(console.log(web3js.toWei(e.data.input,"ether")),void $gameContractInstance.coinRollIn(t,{gasPrice:1e10},{from:$myAddress,value:web3js.toWei(e.data.input,"ether")},function(t,e){t&&console.log(t),console.log(e)}))},function(t){console.log(t)})},e.prototype.registerFun=function(){$myAddress&&$gameContractInstance.playerIsRegi($myAddress,function(t,e){t?console.log(t):e?($Modal.register.registerGroup.visible=!1,$Modal.register.linkGroup.visible=!0,$Modal.register.getUrl(),$modalShowEvent($Modal.register,205)):$Modal.register.registerReg()}),$myAddress||notSignInMetamask()},e.prototype.withdrawFun=function(){$myAddress?$gameContractInstance.withDraw({from:$myAddress},function(t,e){t&&console.log(t),console.log(e)}):notSignInMetamask()},e.prototype.showInviteModalFun=function(){$myAddress?$gameContractInstance.playerIsRegi($myAddress,function(t,e){t?console.log(t):e?($Modal.register.registerGroup.visible=!1,$Modal.register.linkGroup.visible=!0,$Modal.register.getUrl()):($Modal.register.registerGroup.visible=!0,$Modal.register.linkGroup.visible=!1)}):($Modal.register.registerGroup.visible=!0,$Modal.register.linkGroup.visible=!1),$modalShowEvent($Modal.register,205)},e.prototype.showLanguageModalFun=function(){$modalShowEvent($Modal.language,205)},e.prototype.showFaqModalFun=function(){$modalShowEvent($Modal.gameHelp,205)},e.prototype.showStatModalFun=function(){$Modal.gameStatistics.getExtractList(),$modalShowEvent($Modal.gameStatistics,205)},e}(eui.Component);__reflect(Game.prototype,"Game");var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,n){function a(a){e.call(n,a,t)}if(RES.hasRes(t)){var i=RES.getRes(t);i?a(i):RES.getResAsync(t,a,this)}else RES.getResByUrl(t,a,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var Container=function(t){function e(){var e=t.call(this)||this;return e.langData=$ZHTW.container,e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.content()},e.prototype.content=function(){$Content.game=new Game,this.addChild($Content.game),$Modal.gameStatistics=new GameStatistics,$Modal.gameStatistics.visible=!1,this.addChild($Modal.gameStatistics),$Modal.register=new Register,$Modal.register.visible=!1,this.addChild($Modal.register),$Modal.gameHelp=new GameHelp,$Modal.gameHelp.visible=!1,this.addChild($Modal.gameHelp),$Modal.language=new LanguageTs,$Modal.language.visible=!1,this.addChild($Modal.language),$Modal.gameAlert=new GameAlert,$Modal.gameAlert.visible=!1,this.addChild($Modal.gameAlert)},e}(eui.Component);__reflect(Container.prototype,"Container");var $warn=egret.$warn,$ZHTW={type:"zhtw",container:{game:"遊戲"},game:{register_info_2:"· 玩家可在本頁面花費0.02ETH購買成為隊長。",register_info_3:"· 隊長可獲得自己推薦的用戶購買投入的一部分ETH作為推薦人獎勵。",register_info_4:"· 隊長推薦的使用者也購買投入後隊長等級會得到提升（最高為5級）。等級越高可獲得的推薦人獎勵越多。",register_info_5:"· 玩家的直接推薦人視為1代推薦人，1代推薦人的推薦人視為2代推薦人，2代推薦人的推薦人視為3代推薦人……當其中一個玩家購買後將給予其1代推薦人一定ETH獎勵。",help_text_1:"1. 遊戲如何結束？",help_text_2:"      遊戲倒計時24小時，玩家每煉丹1次增加30分鐘的遊戲時間，遊戲結束後，最後投入的10名玩家將會獲得獎池中的大獎。",help_text_3:"2. 如何進行ETH投入？",help_text_4:"      ETH投入每次定投3 ETH，投入後本次投入將進入收益序列，每個玩家最多能有30次投入進入收益序列。當你的收益大於3ETH時複投會自動扣除你的收益進行投入而不是你錢包的餘額。",help_text_5:"3. 領袖有什麼用？",help_text_6:"      玩家在遊戲中可申請成為領袖，領袖可將遊戲推薦給其他人，當被推薦人在遊戲中投入ETH後，領袖能獲得最大的直接推薦獎勵。\n如果領袖推薦的玩家投入了ETH，領袖就能提升等級，推薦的玩家越多，領袖等級越高，獲得的推薦人收益也會增加，最高不超過4級\n領袖等級提升後，其推薦的玩家如果再推薦了其他玩家，領袖也能獲得獎勵，其收益和等級成正比。\n",help_text_7:"4. 什麼是幸運獎池？",help_text_8:"      每週五的12:00點，將會隨機選出9名玩家成為幸運玩家，第一名獲得50%的幸運獎池獎金，第2、3、4名平分獲得30%的幸運獎池獎金，第5、6、7、8、9名平均獲得20%的幸運獎池獎金。",help_text_9:"5. 如何獲得收益？",help_text_10:"      玩家獲得收益的方法主要分為3類：\nA.	玩家投入ETH後，如果後續有其他人繼續投入，並且當前收益排序輪到了該玩家，該玩家就能獲得收益，當收益等於最大收益時，該玩家出局，下一個收益序列的玩家開始獲得收益，以此不斷迴圈。\nB.	玩家可申請成為領袖，創建連接分享遊戲給其他人，領袖能獲得被推薦人的購買分成。\nC.	接收推薦連結的玩家之間會形成聯盟，在聯盟之內的玩家可以得到聯盟獎勵。一個玩家的聯盟內最多能有10個玩家。\nD.	每週五的12點將隨機抽取10名玩家獲得幸運獎池中的獎金。E.	時間結束後，最後一個投入的玩家獲得50%的獎池獎勵，倒數2-9個投入的玩家均分剩下50%的獎池獎勵。",help_text_11:"6. 結算獎勵如何分配？",help_text_12:"遊戲時間結束，最後一個投入的玩家獲得50%的獎池獎勵，倒數2-9個投入的玩家均分剩下50%的獎池獎勵。",mainTips1:"剩餘投入次數:",mainTips2:"同時最多可投入 30 次，每次需投入 3 ETH",link:"邀请链接"},msg:{zeroBalance:"余額為零，不能提現",copySuc:"復制成功",errorKey:"請輸入正確key數",errorReg:"格式錯誤！",errInput:"請輸入正確的個數",readyTime:"準備時間，不能購買！",selfReferrer:"不能推薦自己",isQueue:"投注次数大于10，不能投注！"}},$EN={type:"en",container:{game:"GAME"},game:{register_info_2:"· Address must be unique",register_info_3:"· Dont exceed 32 characters",register_info_4:"· Address must lower case and number",register_info_5:"· Address dont simply number",help_text_1:"1. How does the game end?",help_text_2:"When the game is down - every time the player invests 1 Times increased - minutes of the game, the end of the game, the final input Ten players will get a big prize in the prize pool.",help_text_3:"2. How do I proceed? ETH input?",help_text_4:"ETH devote each time to a fixed investment 3 ETH , the investment will be entered into the revenue sequence, each player can have up to Ten inputs into the revenue sequence. When your earnings are greater than 3ETH , you will automatically deduct your income from the investment rather than the remainder of your wallet. The player can withdraw the principal.",help_text_5:"3. What's the use of the leader's sleeve?",help_text_6:"The player can be used as a leader in the game, and the leader can recommend the game to others, when the person is recommended to put in the game ETH then, the leader can get the most direct encouragement.\nif the leader's recommended player puts ETH , the leader can upgrade the class, the more recommended players, the higher the level of the leader sleeves, the benefit of the recommended people will increase, the highest not over 4 rating.\nOnce the leader has been promoted, the recommended player will be able to reward other players, whose benefits are proportional to the rating.\n",help_text_7:"4.  What is the lucky prize pool?",help_text_8:"      per week, five 12:00pm Will be chosen randomly. 9 The first player to be a lucky player 50% Prize Pool Award, the first 2 , 3 , 4 The name is equally divided. 30% Prize Pool Award, the first 5 , 6 , 7 , 8 , 9 The average gain of the name 20% Lucky Prize in the jackpot.",help_text_9:"5. How to get benefits?",help_text_10:"the way the player gains revenue is mainly divided into 3 Category:\nA. Player Input ETH then, if the other person continues to invest, and when the pre-order returns to the player, the player gains the benefit, and when the profit is the most profitable, the player is out, and the next profit sequence player starts earning the proceeds, so that's the loop.\nB. players can claim to be a leader, create a link to share the game to other people, and the leader can get the purchased shares of the recommended person.\nC. The players who receive the recommended connections form the union, and the Alliance rewards players in the league. A player's union can have up to ten players.\nD. per week, five A The random machine Ten the player is entitled to the prize in the luckily prize pool.\nE. After the end of the time , the last player to put in 50% prize pool, pour 2-9 the players who put in 50% Prize pool.",help_text_11:"6. Settlement reward.",help_text_12:"Game time is over . finally put in Ten players split all the prize pools.",mainTips1:"Incentive:",mainTips2:"You can make up to 30 shots,200 ODF every time",link:"My link:"},msg:{zeroBalance:"Balance is zero, cant be cashed out",copySuc:"Successful copy",errorKey:"Please enter the correct number of keys",errorReg:"Input format is wrong!",errInput:"Please enter the correct number",zeroInput:"The input cannot be zero",readyTime:"Preparation time, cannot be purchased！",selfReferrer:"Don't recommend  yourself",isQueue:"You are still in the queue and cannot be purchased"}},$AlertMsg=$ZHTW.msg,langStatus=$ZHTW.type,Loading=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){var t=localStorage.getItem("language"),e="load_text_title_en_png";t&&(e="zhtw"==t?"load_text_title_zh_png":e);var n=this.createBitmapByName("load_Interface_jpg");n.x=0,n.y=0,this.addChild(n);var a=this.createBitmapByName(e);a.x=173,a.y=1100,this.addChild(a);var i=new egret.Sprite;i.x=50,i.y=1450,i.width=960,i.height=90;var r=this.createBitmapByName("load_ditu_png");r.width=960,i.addChild(r),this.progress=this.createBitmapByName("load_pb_png"),this.progress.y=13,this.progress.width=90,this.progress.x=14,i.addChild(this.progress),this.textField=new egret.TextField,i.addChild(this.textField),this.textField.text="1%",this.textField.width=960,this.textField.height=70,this.textField.y=-5,this.textField.textAlign="center",this.textField.verticalAlign="middle",this.textField.size=30,this.textField.textColor=16777215,this.addChild(i)},e.prototype.onProgress=function(t,e){var n=t/e;n=.1>n?.1:n,this.progress.width=930*n,this.progress.visible=!0;var a=99>=100*n?100*n:99;this.textField.text=Math.floor(a)+"%"},e.prototype.createBitmapByName=function(t){var e=new egret.Bitmap,n=RES.getRes(t);return e.texture=n,e},e}(egret.Sprite);__reflect(Loading.prototype,"Loading",["RES.PromiseTaskReporter"]);var Main=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),egret.lifecycle.addLifecycleListener(function(t){}),egret.lifecycle.onPause=function(){},egret.lifecycle.onResume=function(){};var e=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",e),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),this.runGame()["catch"](function(t){console.log(t)})},e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){switch(e.label){case 0:return[4,this.loadResource()];case 1:return e.sent(),getNetWork().then(function(){getJson().then(function(e){t.createGameScene(),t.stage.removeChild(t.stage.$children[1]),getLanStatus()})}),[2]}})})},e.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var t,e,n;return __generator(this,function(a){switch(a.label){case 0:return a.trys.push([0,6,,7]),t=localStorage.getItem("language"),t||localStorage.setItem("language","zhtw"),[4,RES.loadConfig("resource/loading.res.json","resource/")];case 1:return a.sent(),[4,RES.loadGroup("preload",0)];case 2:return a.sent(),e=new Loading,this.stage.addChild(e),[4,RES.loadConfig("resource/default.res.json","resource/")];case 3:return a.sent(),[4,this.loadTheme()];case 4:return a.sent(),[4,RES.loadGroup("preload",0,e)];case 5:return a.sent(),[3,7];case 6:return n=a.sent(),console.error(n),[3,7];case 7:return[2]}})})},e.prototype.loadTheme=function(){var t=this;return new Promise(function(e,n){var a=new eui.Theme("resource/default.thm.json",t.stage);a.addEventListener(eui.UIEvent.COMPLETE,function(){e()},t)})},e.prototype.createGameScene=function(){$Content.container=new Container,this.addChild($Content.container)},e}(eui.UILayer);__reflect(Main.prototype,"Main");var DebugPlatform=function(){function t(){}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,n,a){function i(t){e.call(a,t)}function r(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),n.call(a))}var o=this;"undefined"!=typeof generateEUI?egret.callLater(function(){e.call(a,generateEUI)},this):"undefined"!=typeof generateEUI2?RES.getResByUrl("resource/gameEui.json",function(t,n){window.JSONParseClass.setData(t),egret.callLater(function(){e.call(a,generateEUI2)},o)},this,RES.ResourceItem.TYPE_JSON):(RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(t,i,this,RES.ResourceItem.TYPE_TEXT))},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var $Modal={help:null,statistics:null,gameStatistics:null,gameHelp:null,register:null,gameAlert:null,language:null},$Content={container:null,game:null},tabStatus=0,Web3,web3,web3js,$gameContract,$tokenContractInstance,$gameContractInstance,$myAddress,ClipboardJS,ExtractUnitTs=function(t){function e(){var e=t.call(this)||this;return e.allLen=0,e.sourceArr=[],e}return __extends(e,t),e.prototype.createChildren=function(){},e.prototype.getData=function(){var t=this;$myAddress&&$gameContractInstance.getRollInArrayDetail($myAddress,function(e,n){if(e)console.log(e);else{n=n.map(function(t,e){return parseInt(t.toString())});var a=n.length;if(t.allLen=a,t.sourceArr.length=0,a>0){for(var i=0;a>i;i++){var r={index:i+1,num:n[i],extractCoin1:"0"};t.sourceArr.push(r)}t.getList()}}})},e.prototype.getList=function(){var t=this;$myAddress&&getMyKeyProp().then(function(e){t.sourceArr[0].extractCoin1=parseFloat(web3js.fromWei(e[4].toString())).toFixed(2);var n=new eui.ArrayCollection(t.sourceArr),a=new eui.DataGroup;a.dataProvider=n;var i=localStorage.getItem("language"),r="zhtw"===i?"statistics_text_wdxh_png":"statistics_text_wdxh_en_png";a.itemRendererSkinName='<?xml version="1.0" encoding="utf-8"?>\n<e:Skin class="ExtractUnit" width="850" height="184.55" xmlns:e="http://ns.egret.com/eui">\n	<e:Image source="list_item_bg_png" horizontalCenter="0" verticalCenter="0"/>\n	<e:Image x="80.34" source="'+r+'" verticalCenter="0.22499999999999432"/>\n	<e:Label text="{data.num}" horizontalCenter="64" textColor="0xbafffe" size="58" verticalCenter="0"/>\n	<e:Label text="{data.extractCoin1}" x="650.29" textColor="0xbafffe" size="58" verticalCenter="0"/>\n	<e:Label x="281.86" y="47.5" textColor="0xfdffdc" size="34" anchorOffsetX="0" width="73.5" anchorOffsetY="0" height="43.5" verticalAlign="middle" textAlign="center" text="{data.index}"/>\n	<e:Image source="num_13_png" x="607" anchorOffsetX="0" width="43.5" anchorOffsetY="0" height="64.5" verticalCenter="1.2249999999999943"/>\n</e:Skin>',t.$children.length=0,t.addChild(a)})},e}(eui.Scroller);__reflect(ExtractUnitTs.prototype,"ExtractUnitTs");var GameAlert=function(t){function e(){var e=t.call(this)||this;return e.msg="",e.skinName="resource/eui_modules/Modal/GameAlertUI.exml",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.modal.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeFun,this),this.submitBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeFun,this)},e.prototype.closeFun=function(){$Modal.gameAlert.visible=!1},e}(eui.Component);__reflect(GameAlert.prototype,"GameAlert");
var GameHelp=function(t){function e(){var e=t.call(this)||this;return e.langData=$ZHTW.game,e.skinName="resource/eui_modules/Modal/GameHelpUI.exml",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.layout(),this.modal.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeFun,this),this.close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeFun,this)},e.prototype.closeFun=function(){$closeModalFun($Modal.gameHelp,-1360)},e.prototype.layout=function(){var t=new eui.VerticalLayout;t.gap=50,t.paddingTop=30,t.horizontalAlign=egret.HorizontalAlign.LEFT,this.layoutGroup.layout=t},e}(eui.Component);__reflect(GameHelp.prototype,"GameHelp");var GameStatistics=function(t){function e(){var e=t.call(this)||this;return e.data={currentRound:"1",round:{drainTime:"00:00:00",activePot:"0",firstBonus:"0",secondBonus:"0"},stats:{currentNum:"0",rewards:"0",totalBuyTimes:"0",myReinvest:"0"}},e.status=0,e.updateData=new egret.Timer(2e3,0),e.skinName="resource/eui_modules/Game/GameStatisticsUI.exml",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.closeBg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeFun,this),this.close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeFun,this),this.tab1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.selectTab.bind(this,0),this),this.tab2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.selectTab.bind(this,1),this),this.tab3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.selectTab.bind(this,2),this),this.tab4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.selectTab.bind(this,3),this),this.updateData.addEventListener(egret.TimerEvent.TIMER,this.getData,this),this.updateData.start(),this.unit=new ExtractUnitTs,this.teamTabScr.addChild(this.unit);var e=new LuckyPersonUnitTs;this.luckyInfo.addChild(e)},e.prototype.getExtractList=function(){this.unit.getData()},e.prototype.getData=function(){this.getTeamTotalPot(),this.getTotalKey()},e.prototype.getTeamTotalPot=function(){var t=this;$gameContractInstance.teamPot(function(e,n){e?(console.log("++++++",e),t.updateData.stop()):t.data.stats.rewards=(.92*parseFloat(web3js.fromWei(n[0]).toString())).toFixed(3)+""})},e.prototype.getTotalKey=function(){var t=this;$gameContractInstance.round(function(e,n){e?console.log(e):t.data.currentRound=""+n.toNumber()})},e.prototype.closeFun=function(){$closeModalFun($Modal.gameStatistics,-1360)},e.prototype.selectTab=function(t){t!==this.status&&(0===t&&(this.tabAct1.source="statistics_text_round1_zh_png",this.tabActEn1.source="statistics_text_round1_en_png",this.tabBitmap1.font="static_round_gold_fnt",this.tabAct2.source="statistics_text_stats_zh_png",this.tabActEn2.source="statistics_text_stats_en_png",this.tabBitmap2.font="static_round_fnt",this.tabAct3.source="statistics_text_teams_zh_png",this.tabActEn3.source="statistics_text_teams_en_png",this.tabBitmap3.font="static_round_fnt",this.tabAct4.source="statistics_text_rank_zh_png",this.tabActEn4.source="statistics_text_rank_en_png",this.tabBitmap4.font="static_round_fnt",this.roundTab.visible=!0,this.statsTab.visible=!1,this.teamsTab.visible=!1,this.lucky.visible=!1,this.tab1.$children[3].visible=!0,this.tab2.$children[3].visible=!1,this.tab3.$children[3].visible=!1,this.tab4.$children[3].visible=!1),1===t&&(this.tabAct1.source="statistics_text_round_zh_png",this.tabActEn1.source="statistics_text_round_en_png",this.tabBitmap1.font="static_round_fnt",this.tabAct2.source="statistics_text_stats1_zh_png",this.tabActEn2.source="statistics_text_stats1_en_png",this.tabBitmap2.font="static_round_gold_fnt",this.tabAct3.source="statistics_text_teams_zh_png",this.tabActEn3.source="statistics_text_teams_en_png",this.tabBitmap3.font="static_round_fnt",this.tabAct4.source="statistics_text_rank_zh_png",this.tabActEn4.source="statistics_text_rank_en_png",this.tabBitmap4.font="static_round_fnt",this.roundTab.visible=!1,this.statsTab.visible=!0,this.teamsTab.visible=!1,this.lucky.visible=!1,this.tab1.$children[3].visible=!1,this.tab2.$children[3].visible=!0,this.tab3.$children[3].visible=!1,this.tab4.$children[3].visible=!1),2===t&&(this.tabAct1.source="statistics_text_round_zh_png",this.tabActEn1.source="statistics_text_round_en_png",this.tabBitmap1.font="static_round_fnt",this.tabAct2.source="statistics_text_stats_zh_png",this.tabActEn2.source="statistics_text_stats_en_png",this.tabBitmap2.font="static_round_fnt",this.tabAct3.source="statistics_text_teams1_zh_png",this.tabActEn3.source="statistics_text_teams1_en_png",this.tabBitmap3.font="static_round_gold_fnt",this.tabAct4.source="statistics_text_rank_zh_png",this.tabActEn4.source="statistics_text_rank_en_png",this.tabBitmap4.font="static_round_fnt",this.roundTab.visible=!1,this.statsTab.visible=!1,this.teamsTab.visible=!0,this.lucky.visible=!1,this.tab1.$children[3].visible=!1,this.tab2.$children[3].visible=!1,this.tab3.$children[3].visible=!0,this.tab4.$children[3].visible=!1),3===t&&(this.tabAct1.source="statistics_text_round_zh_png",this.tabActEn1.source="statistics_text_round_en_png",this.tabBitmap1.font="static_round_fnt",this.tabAct2.source="statistics_text_stats_zh_png",this.tabActEn2.source="statistics_text_stats_en_png",this.tabBitmap2.font="static_round_fnt",this.tabAct3.source="statistics_text_teams_zh_png",this.tabActEn3.source="statistics_text_teams_en_png",this.tabBitmap3.font="static_round_fnt",this.tabAct4.source="statistics_text_rank1_zh_png",this.tabActEn4.source="statistics_text_rank1_en_png",this.tabBitmap4.font="static_round_gold_fnt",this.roundTab.visible=!1,this.statsTab.visible=!1,this.teamsTab.visible=!1,this.lucky.visible=!0,this.tab1.$children[3].visible=!1,this.tab2.$children[3].visible=!1,this.tab3.$children[3].visible=!1,this.tab4.$children[3].visible=!0),this.status=t)},e}(eui.Component);__reflect(GameStatistics.prototype,"GameStatistics");var LanguageTs=function(t){function e(){var e=t.call(this)||this;return e.skinName="resource/eui_modules/Modal/LanguageUI.exml",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.closeBg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeFun,this),this.close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeFun,this),this.langZHTW.addEventListener(egret.TouchEvent.TOUCH_TAP,this.chooseLang.bind(this,"zhtw"),this),this.langEN.addEventListener(egret.TouchEvent.TOUCH_TAP,this.chooseLang.bind(this,"en"),this)},e.prototype.closeFun=function(){$closeModalFun($Modal.language,-1360)},e.prototype.chooseLang=function(t){langStatus!==t&&(setLanguageModalState(t),langStatus=t,changeLang(t),localStorage.setItem("language",t))},e}(eui.Component);__reflect(LanguageTs.prototype,"LanguageTs");var LuckyPersonUnitTs=function(t){function e(){var e=t.call(this)||this;return e.allLen=9,e.sourceArr=[],e.updateDataLuckyer=new egret.Timer(6e4,0),e}return __extends(e,t),e.prototype.createChildren=function(){this.updateDataLuckyer.addEventListener(egret.TimerEvent.TIMER,this.getData,this),this.updateDataLuckyer.start(),this.getData()},e.prototype.getData=function(){this.sourceArr.length=0,this.$children.length=0,this.getQueueId(0)},e.prototype.getQueueId=function(t){var e=this;$gameContractInstance.luckyPotPerson(t,function(n,a){n?(e.updateDataLuckyer.stop(),console.log("233333",n)):$gameContractInstance.playerxID_(a.toString(),function(n,i){var r=i[0];$gameContractInstance.luckyPotMoney(a.toString(),function(n,i){if("0"==a.toString())return void e.getList();var o={index:t+1,address:r,extractCoin1:Math.floor(1e3*parseFloat(web3js.fromWei(i.toString())))/1e3+""};e.sourceArr.push(o),8==t&&e.getList(),8>t&&"0"!=a.toString()&&(t++,e.getQueueId(t))})})})},e.prototype.getList=function(){var t=this;$myAddress&&getMyKeyProp().then(function(e){if(t.sourceArr.length<1)return void(t.$children.length=0);t.sourceArr.length=9<=t.sourceArr.length?t.allLen:t.sourceArr.length;var n=new eui.ArrayCollection(t.sourceArr),a=new eui.DataGroup;a.dataProvider=n;localStorage.getItem("language");a.itemRendererSkinName='<?xml version="1.0" encoding="utf-8"?>\n<e:Skin class="ExtractUnit" width="836" height="150" xmlns:e="http://ns.egret.com/eui">\n	<e:Image horizontalCenter="0" source="list_item_bg2_png" verticalCenter="0"/>\n	<e:BitmapLabel width="126.97" height="56.36" x="4.25" anchorOffsetX="0" anchorOffsetY="0" verticalCenter="6" text="{data.index}" font="lucky_num_fnt" textAlign="center" verticalAlign="middle"/>\n	<e:Label size="30" verticalCenter="16" textAlign="left" horizontalCenter="-25" textColor="0xd9786a" width="400" text="{data.address}"/>\n	<e:Image source="icon_fof_png" x="637" verticalCenter="10.5"/>\n	<e:Label text="{data.extractCoin1}" x="670.24" size="40" textColor="0xe9daff" anchorOffsetX="0" width="186.33" anchorOffsetY="0" height="54.67" verticalCenter="10.5" verticalAlign="middle"/>\n</e:Skin>',t.$children.length=0,t.addChild(a)})},e}(eui.Scroller);__reflect(LuckyPersonUnitTs.prototype,"LuckyPersonUnitTs");var Register=function(t){function e(){var e=t.call(this)||this;return e.langData=$ZHTW.game,e.data={idUrl:"",addrUrl:""},e.skinName="resource/eui_modules/Modal/RegisterUI.exml",e}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.closeBg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeFun,this),this.close.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeFun,this),this.registerBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.registerReg,this),this.copyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.copyUrl.bind(this,"id"),this)},e.prototype.registerReg=function(){var t=this;if(!$myAddress)return void notSignInMetamask();var e=location.href,n=e.split("?")[1],a="0x0000000000000000000000000000000000000000";n?web3js.isAddress(n)?(a=n,this.registerFun(a)):isNaN(Number(n))?(console.log(web3js.fromAscii(n)),$alert("請保持瀏覽器地址後綴為正確的賬戶地址或id")):$gameContractInstance.playerxID_(n,function(e,n){e?$alert(e):(a=n[0],t.registerFun(a))}):this.registerFun(a)},e.prototype.registerFun=function(t){var e=this;if(console.log(t),$myAddress){var n=web3js.toWei("0.02");$gameContractInstance.registerName(t,{from:$myAddress,value:n},function(t,n){t?console.log(t):(t&&console.log(t),setTimeout(function(){e.closeFun()},2e3))})}else notSignInMetamask()},e.prototype.copyUrl=function(t){var e=this,n=document.getElementById("copyElement");n||(n=document.createElement("textarea"),n.id="copyElement",document.body.appendChild(n));var a=document.createElement("button");switch(a.setAttribute("id","btnId"),a.setAttribute("data-clipboard-action","copy"),a.setAttribute("data-clipboard-target","#copyElement"),document.body.appendChild(a),t){case"address":n.innerHTML=this.data.addrUrl;break;case"id":n.innerHTML=this.data.idUrl}var i=new ClipboardJS("#btnId",{target:function(){return document.querySelector("#copyElement")}});i.on("success",function(t){$alert($AlertMsg.copySuc),setTimeout(e.closeFun,2e3)}),i.on("error",function(t){$alert("Copy error")}),a.click(),n.setAttribute("readonly","true"),n.style.width="0",n.style.height="0",n.style.opacity="0",a.style.width="0",a.style.height="0",a.style.opacity="0"},e.prototype.getUrl=function(){var t=this;$myAddress&&$gameContractInstance.pIDxAddr_($myAddress,function(e,n){if(e)$alert(e);else{var a=location.href.split("?")[0];t.data.idUrl=a+"?"+n.toString()}})},e.prototype.closeFun=function(){$closeModalFun($Modal.register,-1360)},e}(eui.Component);__reflect(Register.prototype,"Register");